# Python Flask Backend - Quick Start

## 3 Steps to Run Backend

### Step 1: Install Dependencies (One Time Only)
```powershell
pip install -r requirements.txt
```

Wait for completion:
```
Successfully installed Flask Flask-CORS requests python-dotenv Werkzeug
```

### Step 2: Start Backend Server
```powershell
python app.py
```

You should see:
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸš€ Property Listing API Server (Flask)                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Server Running on: http://localhost:3001                 â•‘
â•‘  API Endpoint: POST http://localhost:3001/api/property/submit â•‘
â•‘  Health Check: GET http://localhost:3001/api/health       â•‘
â•‘  Info: GET http://localhost:3001/api/info                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ GitHub Integration: Enabled
```

### Step 3: Keep Website Running (New Terminal)
```powershell
python -m http.server 8000
```

Then visit: **http://localhost:8000/pages/list-property.html**

## That's It! ğŸ‰

- âœ… Backend API running on port 3001
- âœ… Website running on port 8000
- âœ… GitHub integration active
- âœ… Property submissions will auto-update

## Testing Submission

1. Go to: http://localhost:8000/pages/list-property.html
2. Fill the form
3. Upload at least 1 image
4. Click "Submit Property Listing"
5. Check terminal output - should show:
   ```
   âœ“ Property submission received:
     Owner: John Doe
     Type: residential
     Sector: 78
     âœ“ GitHub workflow triggered successfully
   ```

## Terminals You Need

| Terminal | Command | Purpose |
|----------|---------|---------|
| Terminal 1 | `python app.py` | Backend API Server (Port 3001) |
| Terminal 2 | `python -m http.server 8000` | Website (Port 8000) |

## If Something Goes Wrong

### "No module named 'flask'"
```powershell
pip install -r requirements.txt
```

### "Port 3001 already in use"
Edit `.env` and change `PORT=3002` (or another number)

### "Connection refused" error
Make sure Terminal 1 is running: `python app.py`

### Check if backend is working
Visit: http://localhost:3001/api/health

Should show: `{"status": "OK", ...}`

## Files Overview

- **app.py** - Flask backend (the API server)
- **requirements.txt** - Dependencies list
- **setup.py** - Auto-setup script
- **start-backend.bat** - Windows batch file
- **.env** - Configuration (already set up)

## What Happens on Submission

```
User Form â†’ Flask API â†’ GitHub Actions â†’ Python Script â†’ properties-buy.js Updated
```

All automatic! âœ¨

## Environment Setup

Your `.env` already has:
- âœ… GITHUB_TOKEN (for auto-update)
- âœ… GITHUB_REPO (your repository)
- âœ… PORT=3001 (API port)

No additional configuration needed!

## Now Go!

```powershell
# Terminal 1
python app.py

# Terminal 2 (New)
python -m http.server 8000
```

Visit: http://localhost:8000/pages/list-property.html

**Everything is ready! ğŸš€**
